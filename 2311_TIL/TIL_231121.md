TIL 231121
======


오늘 한 일
------

  1. BP_Kraken 제작을 진행했다.



내일 할 일
------
  1. BP_Kraken 제작 마무리
  2. 자소서 초안 작성 



느낀 점과 어려웠던 점
------
```
오늘은 AI Monster Creation Tutorial 5 영상을 참고하여 제작을 진행했다.
5번 영상은 체력이 일정 수치 이하로 떨어지면 플레이어와 멀어지는 로직 / 체력 회복 로직을 구현하는 것이 목표이다.
Run away 이벤트를 만들고 특정 체력 이하로 떨어지면 플레이어와 반대 방향으로 움직이는 로직이다.
```
![image](https://github.com/kotori9015/TIL/assets/143386436/2d9c5b75-bb78-4094-a66e-ba7c8b21c131)
```
아래와 같이 구현하기까지 큰 어려움은 없었고 컴파일도 되었지만 뷰포트에서 플레이했을 때 문제가 있었다.
```
![image](https://github.com/kotori9015/TIL/assets/143386436/3be71202-97fd-43be-9521-26bfedacd41b)
```
none에 접근했다는 런타임 오류가 발생했고, 도망갈 때의 움직임도 뚝뚝 끊겨 보이는 현상이 발생했다.
어떤 부분에서 문제가 발생하는지에 대한 디버깅을 진행해보았고 다음 이미지에서 문제를 확인했다.
```
![image](https://github.com/kotori9015/TIL/assets/143386436/aebaae95-1418-487e-a0c5-d715a4513c1c)

![image](https://github.com/kotori9015/TIL/assets/143386436/d5acde7e-7819-4c2b-a76e-22aa06aaab05)

```
첫 번째 이미지는 플레이어가 감지 범위에 들어왔을 때 chase pawn에 플레이어가 입력된 모습이고,
두 번째 이미지는 감지하지 못한 경우에 get actor location의 타깃인 chase pawn에 아무 내용도 없는 모습이다.
이것을 통해서 보스가 플레이어를 감지하는 순간부터 chase pawn에 플레이어 캐릭터가 입력이 되지만,
테스트를 위해 enter 키로 체력을 줄이는 설정을 했고 플레이어와 보스가 만나지 않은 상태에서 도망가는 이벤트가 시작된다면
chase pawn가 비어 있어 해당 오류가 발생하는 것을 확인하였다. 
오류 발생을 막기 위해 일단 chase pawn을 참조하는 것 대신에 get player character를 입력해서 오류가 발생하는 것을 방지했다.
그리고 도망 시 각 행동마다 0.2초의 딜레이를 넣어서 과도하게 빠른 방향 전환이 일어나지 않게 하여 부드럽게 움직이게 바꾸었다.
이런 예외 처리 하나에 시간을 많이 투자했는데, 제작보다 수정이 더 어렵다는 것을 또 느낀 하루였다.

```

참고 자료
------
https://youtu.be/yHwDpwWzcGk
